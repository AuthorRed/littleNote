<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

    <style type="text/css">
        li{
            list-style-type :none;
            margin-left: -20px;
        }
        ul{margin-left:-5px;}
    </style>
</head>
<body>

<ul id="rootNode">
    <li>1</li>
    <li >
        <span class = 'toggal'>TT</span>
        <a href="javascript:void(0)" >root node</a>
        <span class="add">+</span>
        <ul>
            <li>2</li><div onclick="doSpanOnclick()" id="divId" name="divName">div</div>
            <li>2</li>
        </ul>
    </li>
</ul>


</body>
<script src="../js/jquery-3.3.1.js"></script>
<script>
    $(document).ready(function(){
        console.log('jquery ok..')
    });
function doSpanOnclick() {

    console.log($(this).text());
}

</script>
<script id="event">
    $("#rootNode").on("click","span[class='add']", function(){
        var content=
            "<ul>" +
              "<li>" +
                "<span class = 'toggal'>TT</span>" +
                "<a href='javascript:void(0)' class='add'>new node</a>"+
                 "<span class = 'add'>+</span>" +
                 "<span class = 'edit'>E</span>" +
                 "<span class = 'remove'>-</span>" +
              "</li>" +
            "</ul>";
        $(this).parent().append(content);
        console.log($(this).parent());
    });
    // $("#rootNode, .remove").on("click","span", function(){
    //     $(this).parent().remove();
    //     console.log($(this).parent());
    // });
    $("#rootNode").on("click","span[class='remove']", function(){
        $(this).parent().remove();
        console.log('remove log:'+$(this).parent());
    });
    $("#rootNode").on("click","span[class='edit']", function(){
        console.log($(this).siblings('a').html("<input class='input' type=\"text\">"))
        console.log($(this).siblings('a').children('input').focus());
    });
    $("#rootNode").on("blur","input", function(){
        $(this).parent().html($(this).val())
    });
    $("#rootNode").on("click","span[class='toggal']", function(){
        // console.log($(this).parent().children());
        console.log($(this).siblings('ul').toggle());
        // console.log('toggal log:'+JSON.stringify($(this).children('a')));
    });
    $("#rootNode").on("dbClick","span[class='toggal']", function(){
        // console.log($(this).parent().children());
        console.log($(this).siblings('ul').show());
        // console.log('toggal log:'+JSON.stringify($(this).children('a')));
    });
</script>


</html>